<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>261 AREA</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }

    body {
      background: #000;
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* background fixed */
    .bg-fixed {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: url('https://i.ibb.co.com/G4MYnQXq/IMG-20250802-171007-951.jpg') no-repeat center center fixed;
      background-size: cover;
      z-index: -2;
    }

    .bg-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.72); 
      backdrop-filter: blur(6px); 
      z-index: -1;
    }

    /* INTRO â€” lebih premium */
    #intro {
      position: fixed;
      inset: 0;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      transition: opacity 1.8s cubic-bezier(0.23, 1, 0.32, 1);
      pointer-events: none;
    }

    #intro h1 {
      font-family: 'Share Tech Mono', monospace;
      font-size: 2.2rem;
      letter-spacing: 14px;
      animation: introGlitch 2.2s ease-out forwards;
      opacity: 0;
      position: relative;
    }

    #intro h1::before,
    #intro h1::after {
      content: "261 AREA";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
    }

    #intro h1::before {
      color: #ff5e5e;
      z-index: -1;
      animation: glitchShift 2.2s ease-out forwards;
    }

    #intro h1::after {
      color: #5effff;
      z-index: -2;
      animation: glitchShift 2.2s ease-out 0.1s forwards;
    }

    @keyframes introGlitch {
      0% { opacity: 0; letter-spacing: -8px; filter: blur(10px); transform: scale(0.95); }
      30% { opacity: 1; filter: blur(0); transform: scale(1); }
      70% { opacity: 1; letter-spacing: 14px; }
      100% { opacity: 1; letter-spacing: 14px; }
    }

    @keyframes glitchShift {
      0% { opacity: 0; transform: translate(0); }
      20% { opacity: 0.3; transform: translate(-2px, 1px); }
      40% { opacity: 0.2; transform: translate(2px, -1px); }
      60% { opacity: 0.1; transform: translate(-1px, 2px); }
      80% { opacity: 0; transform: translate(1px, -2px); }
      100% { opacity: 0; transform: translate(0); }
    }

    /* NAVBAR */
    nav {
      position: fixed;
      top: 0; width: 100%;
      height: 70px;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      display: none;
      background: transparent;
      animation: navSlideDown 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }

    @keyframes navSlideDown {
      0% { opacity: 0; transform: translateY(-30px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    .nav-inner {
      display: flex;
      gap: 40px;
      background: rgba(10, 10, 10, 0.25);
      padding: 8px 30px;
      border-radius: 40px;
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 94, 94, 0.2);
    }

    nav a {
      color: #aaa;
      text-decoration: none;
      font-size: 0.9rem;
      letter-spacing: 3px;
      font-weight: 500;
      transition: all 0.3s ease;
      cursor: pointer;
      padding: 5px 0;
      position: relative;
    }

    nav a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 1px;
      background: #ff5e5e;
      transition: width 0.3s ease;
    }

    nav a:hover::after,
    nav a.active::after {
      width: 100%;
    }

    nav a:hover, nav a.active {
      color: #fff;
      text-shadow: 0 0 10px rgba(255, 94, 94, 0.5);
    }

    /* MAIN */
    main {
      max-width: 1000px;
      margin: 0 auto;
      padding: 120px 25px 40px;
      display: none;
      opacity: 0;
      transition: opacity 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .visible {
      display: block !important;
      opacity: 1 !important;
    }

    /* page container */
    .page-container {
      position: relative;
      width: 100%;
    }

    .page {
      display: none;
      animation: pageReveal 1s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .page.active-page {
      display: block;
    }

    @keyframes pageReveal {
      0% { opacity: 0; transform: translateY(25px) scale(0.98); filter: blur(3px); }
      60% { opacity: 1; filter: blur(0); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }

    /* HOME */
    .leaders-grid {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 25px;
      margin-bottom: 30px;
    }

    .leader-row {
      display: flex;
      justify-content: center;
      gap: 45px;
      flex-wrap: wrap;
    }

    .leader-item {
      text-align: center;
    }

    .leader-item img {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      filter: grayscale(90%) brightness(0.9);
      transition: all 0.5s ease;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 94, 94, 0.3);
    }

    .leader-item:hover img {
      filter: grayscale(30%) brightness(1.05);
      transform: scale(1.02);
      box-shadow: 0 15px 30px rgba(255, 94, 94, 0.2);
      border-color: rgba(255, 94, 94, 0.8);
    }

    .extra-row {
      display: flex;
      justify-content: center;
      gap: 45px;
      flex-wrap: wrap;
      margin-top: 5px;
    }

    .extra-row .leader-item img {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      filter: grayscale(90%) brightness(0.9);
      transition: all 0.5s ease;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 94, 94, 0.3);
    }

    .extra-row .leader-item:hover img {
      filter: grayscale(30%) brightness(1.05);
      transform: scale(1.02);
      box-shadow: 0 15px 30px rgba(255, 94, 94, 0.2);
      border-color: rgba(255, 94, 94, 0.8);
    }

    .petinggi-label {
      text-align: center;
      margin: 40px 0 25px;
      animation: fadeUp 0.8s 0.2s both;
    }

    .petinggi-label h3 {
      font-size: 1.2rem;
      font-weight: 900;
      letter-spacing: 6px;
      color: #fff;
      text-transform: uppercase;
      text-shadow: 0 0 15px rgba(255, 94, 94, 0.3);
    }

    .petinggi-label p {
      font-size: 0.7rem;
      color: #ff5e5e;
      letter-spacing: 4px;
      margin-top: 8px;
      font-weight: 600;
    }

    /* ID LIST */
    .id-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px 30px;
      max-width: 750px;
      margin: 0 auto 50px;
      text-align: center;
    }

    .id-item {
      font-size: 1rem;
      color: #ddd;
      letter-spacing: 1.5px;
      font-weight: 600;
      transition: all 0.3s ease;
      text-transform: lowercase;
      background: rgba(20, 20, 20, 0.3);
      padding: 6px 16px;
      border-radius: 30px;
      backdrop-filter: blur(4px);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 94, 94, 0.2);
    }

    .id-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 94, 94, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .id-item:hover::before {
      left: 100%;
    }

    .id-item:hover {
      color: #fff;
      background: rgba(255, 80, 80, 0.15);
      transform: translateY(-2px);
      border-color: rgba(255, 94, 94, 0.5);
    }

    .id-item.copied {
      background: rgba(255, 80, 80, 0.3);
      color: #fff;
      transform: scale(0.98);
    }

    /* toast notification premium */
    .toast-premium {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: rgba(10, 10, 10, 0.8);
      backdrop-filter: blur(12px);
      color: #fff;
      padding: 12px 28px;
      border-radius: 50px;
      font-size: 0.9rem;
      letter-spacing: 1px;
      z-index: 10002;
      opacity: 0;
      transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.3s ease;
      border: 1px solid rgba(255, 94, 94, 0.3);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
    }

    .toast-premium.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    .toast-premium span {
      color: #ff8a8a;
      font-weight: 600;
    }

    /* content block */
    .content-block {
      background: rgba(0, 0, 0, 0.25);
      backdrop-filter: blur(4px);
      padding: 28px;
      border-radius: 18px;
      animation: fadeUp 0.8s both;
      border: 1px solid rgba(255, 94, 94, 0.15);
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2 {
      font-size: 1.2rem;
      color: #fff;
      letter-spacing: 2px;
      margin-bottom: 20px;
      text-transform: uppercase;
      border-left: 3px solid #ff5e5e;
      padding-left: 15px;
      text-shadow: 0 0 10px rgba(255, 94, 94, 0.3);
    }

    /* ABOUT page */
    .about-text {
      color: #eee;
      line-height: 1.8;
      font-weight: 500;
      margin-bottom: 15px;
    }

    .about-highlight {
      color: #ff8a8a;
      font-weight: 600;
    }

    .about-secondary {
      color: #aaa;
      margin-top: 15px;
    }

    /* CHAOS page */
    .search-container {
      margin: 25px 0;
      text-align: center;
      animation: fadeUp 0.8s 0.1s both;
    }

    .search-wrapper {
      display: inline-block;
      position: relative;
      width: 100%;
      max-width: 400px;
    }

    .search-input {
      background: rgba(20, 20, 20, 0.45);
      border: 1px solid rgba(255, 94, 94, 0.2);
      color: #fff;
      padding: 12px 25px;
      width: 100%;
      font-size: 0.9rem;
      border-radius: 40px;
      backdrop-filter: blur(6px);
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }

    .search-input:focus {
      background: rgba(30, 30, 30, 0.7);
      box-shadow: 0 8px 20px rgba(255, 94, 94, 0.15);
      outline: none;
      transform: scale(1.02);
      border-color: rgba(255, 94, 94, 0.5);
    }

    .search-input::placeholder {
      color: rgba(255, 255, 255, 0.3);
      letter-spacing: 1px;
    }

    .search-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: rgba(255, 94, 94, 0.5);
      font-size: 1.2rem;
      pointer-events: none;
    }

    .result-count {
      color: #888;
      font-size: 0.8rem;
      text-align: center;
      margin: 5px 0 25px;
      letter-spacing: 1px;
    }

    .db-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 25px;
      margin-top: 15px;
    }

    .db-card {
      background: rgba(10, 10, 10, 0.35);
      backdrop-filter: blur(6px);
      transition: all 0.4s ease;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      animation: cardAppear 0.7s cubic-bezier(0.16, 1, 0.3, 1);
      border: 1px solid rgba(255, 94, 94, 0.1);
    }

    @keyframes cardAppear {
      from { opacity: 0; transform: translateY(20px) scale(0.95); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    .db-card:hover {
      transform: translateY(-6px);
      background: rgba(20, 20, 20, 0.55);
      box-shadow: 0 18px 30px rgba(255, 94, 94, 0.15);
      border-color: rgba(255, 94, 94, 0.3);
    }

    .db-photos {
      display: grid;
      gap: 2px;
      margin-bottom: 15px;
    }

    .db-photos[data-count="1"] { grid-template-columns: 1fr; }
    .db-photos[data-count="2"] { grid-template-columns: 1fr 1fr; }
    .db-photos[data-count="3"] { grid-template-columns: repeat(3, 1fr); }
    .db-photos[data-count="4"] {
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(2, 150px);
    }

    .photo-item {
      position: relative;
      cursor: pointer;
      overflow: hidden;
      aspect-ratio: 1/1;
    }

    .db-photos[data-count="4"] .photo-item {
      aspect-ratio: auto;
      height: 150px;
    }

    .photo-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: grayscale(100%);
      transition: all 0.5s ease;
    }

    .photo-item:hover img {
      filter: grayscale(40%);
      transform: scale(1.04);
    }

    .photo-count-badge {
      position: absolute;
      bottom: 5px;
      right: 5px;
      background: rgba(0, 0, 0, 0.5);
      color: #ff8888;
      padding: 3px 8px;
      font-size: 0.7rem;
      border-radius: 20px;
      backdrop-filter: blur(2px);
      border: 1px solid rgba(255, 94, 94, 0.3);
    }

    .db-content {
      padding: 0 18px 10px 18px;
    }

    .db-name {
      font-size: 1.1rem;
      font-weight: 700;
      color: #fff;
      margin-bottom: 5px;
      font-family: 'Share Tech Mono', monospace;
    }

    .db-wangsaff {
      color: #ff8a8a;
      font-size: 0.8rem;
      margin-bottom: 15px;
      letter-spacing: 1px;
      background: rgba(255, 80, 80, 0.1);
      display: inline-block;
      padding: 3px 12px;
      border-radius: 30px;
      border: 1px solid rgba(255, 94, 94, 0.2);
    }

    .db-info {
      color: #bbb;
      font-size: 0.8rem;
      line-height: 1.8;
    }

    .db-info span {
      color: #fff;
      width: 70px;
      display: inline-block;
      opacity: 0.9;
    }

    .no-result {
      text-align: center;
      color: #777;
      padding: 50px 0;
      font-size: 0.9rem;
      grid-column: 1 / -1;
      background: rgba(0, 0, 0, 0.25);
      border-radius: 30px;
      border: 1px solid rgba(255, 94, 94, 0.1);
    }

    /* MODAL */
    .modal {
      display: none;
      position: fixed;
      z-index: 10001;
      padding-top: 50px;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.94);
      backdrop-filter: blur(14px);
      animation: modalFade 0.4s ease;
    }

    @keyframes modalFade {
      from { opacity: 0; backdrop-filter: blur(0); }
      to { opacity: 1; backdrop-filter: blur(14px); }
    }

    .modal-content {
      margin: auto;
      display: block;
      max-width: 90%;
      max-height: 80vh;
      border: 1px solid rgba(255, 94, 94, 0.3);
      box-shadow: 0 15px 35px rgba(255, 94, 94, 0.15);
      animation: modalZoom 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    }

    @keyframes modalZoom {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    .modal-caption {
      margin: auto;
      display: block;
      width: 80%;
      max-width: 700px;
      text-align: center;
      color: #fff;
      padding: 20px 0;
      font-size: 1rem;
      letter-spacing: 2px;
    }

    .modal-close {
      position: absolute;
      top: 15px;
      right: 35px;
      color: #ccc;
      font-size: 40px;
      font-weight: 300;
      cursor: pointer;
      transition: color 0.2s;
    }

    .modal-close:hover {
      color: #ff5e5e;
    }

    .modal-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      color: #ccc;
      font-size: 45px;
      font-weight: 300;
      cursor: pointer;
      padding: 20px;
      user-select: none;
      transition: all 0.2s;
    }

    .modal-nav:hover {
      color: #ff5e5e;
      text-shadow: 0 0 15px rgba(255, 94, 94, 0.5);
    }

    .modal-prev { left: 20px; }
    .modal-next { right: 20px; }

    .modal-counter {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: #fff;
      background: rgba(255, 80, 80, 0.2);
      padding: 5px 15px;
      border-radius: 30px;
      font-size: 0.85rem;
      backdrop-filter: blur(3px);
      border: 1px solid rgba(255, 94, 94, 0.3);
    }

    footer {
      text-align: center;
      margin-top: 60px;
      font-size: 0.75rem;
      color: #888;
      letter-spacing: 3px;
      padding: 15px 0;
      animation: fadeUp 1s 0.5s both;
      border-top: 1px solid rgba(255, 94, 94, 0.1);
    }

    @media (max-width: 600px) {
      .leader-item img { width: 130px; height: 130px; }
      .extra-row .leader-item img { width: 130px; height: 130px; }
      .leader-row { gap: 25px; }
      .extra-row { gap: 25px; }
      .nav-inner { gap: 20px; padding: 6px 20px; }
      .id-item { font-size: 0.9rem; padding: 5px 12px; }
      .db-grid { grid-template-columns: 1fr; }
      #intro h1 { font-size: 1.8rem; letter-spacing: 8px; }
    }
  </style>
</head>
<body>

  <div class="bg-fixed"></div>
  <div class="bg-overlay"></div>

  <div id="toast" class="toast-premium">âœ§ <span>ID TERSALIN</span> âœ§</div>

  <div id="imageModal" class="modal">
    <span class="modal-close" onclick="closeModal()">&times;</span>
    <div class="modal-nav modal-prev" onclick="prevPhoto()">&#10094;</div>
    <div class="modal-nav modal-next" onclick="nextPhoto()">&#10095;</div>
    <img class="modal-content" id="modalImage">
    <div class="modal-caption" id="modalCaption"></div>
    <div class="modal-counter" id="modalCounter"></div>
  </div>

  <div id="intro">
    <h1>261 AREA</h1>
  </div>

  <nav id="navbar">
    <div class="nav-inner">
      <a onclick="switchPage('home')" id="n-home" class="active">HOME</a>
      <a onclick="switchPage('about')" id="n-about">ABOUT</a>
      <a onclick="switchPage('chaos')" id="n-chaos">CHAOS</a>
    </div>
  </nav>

  <main id="main-content">
    <div class="page-container">
      <div id="home" class="page active-page">
        <div class="leaders-grid">
          <div class="leader-row">
            <div class="leader-item">
              <img src="https://files.catbox.moe/k8zipc.jpg" alt="Shadow" onclick="openSingleModal(this.src, '261 Leaders')">
            </div>
          </div>
          
          <div class="leader-row">
            <div class="leader-item">
              <img src="https://files.catbox.moe/7negcr.jpg" alt="Fanzu" onclick="openSingleModal(this.src, '261 fo')">
            </div>
            <div class="leader-item">
              <img src="https://files.catbox.moe/yvehh5.jpg" alt="Fanzu kedua" onclick="openSingleModal(this.src, '261 fo')">
            </div>
          </div>

          <div class="extra-row">
            <div class="leader-item">
              <img src="https://i.postimg.cc/ZRb24vmN/IMG-20260228-WA0025.jpg" alt="261 visual 1" onclick="openSingleModal(this.src, '261 fo')">
            </div>
            <div class="leader-item">
              <img src="https://i.postimg.cc/C1RtRTZF/IMG_20260224_WA0102.jpg" alt="261 visual 2" onclick="openSingleModal(this.src, '261 fo')">
            </div>
            <div class="leader-item">
              <img src="https://i.postimg.cc/DZRNsjsS/IMG_20260228-WA0020.jpg" alt="261 visual 3" onclick="openSingleModal(this.src, '261 fo')">
            </div>
            <div class="leader-item">
              <img src="https://i.postimg.cc/gcDRxXPM/IMG-20260228-WA0040.jpg" alt="261 visual 4" onclick="openSingleModal(this.src, '261 fo')">
            </div>
          </div>
        </div>

        <div class="petinggi-label">
          <h3>THE HIGH TABLE OF 261</h3>
          <p>DIRECTOR OF CHAOS</p>
        </div>

        <div class="id-list" id="idList">
          <div class="id-item" onclick="copyID(this, '@Ar3clxyz')">@Ar3clxyz</div>
          <div class="id-item" onclick="copyID(this, '@Lifzz_')">@Lifzz_</div>
          <div class="id-item" onclick="copyID(this, '@Joyzz_')">@Joyzz_</div>
          <div class="id-item" onclick="copyID(this, '@tuanzeroo')">@tuanzeroo</div>
          <div class="id-item" onclick="copyID(this, '@ndi_milktea')">@ndi_milktea</div>
          <div class="id-item" onclick="copyID(this, '@raarowrr')">@raarowrr</div>
          <div class="id-item" onclick="copyID(this, '@inueltamvan666')">@inueltamvan666</div>
        </div>
      </div>

      <div id="about" class="page">
        <div class="content-block">
          <h2>261 AREA</h2>
          <p class="about-text">KAMI DATANG UNTUK MENGHANCURKAN DINASTI PARA PETINGGI PALSU!</p>
          <p class="about-secondary">Selamat datang di AREA 261 yang nggak kenal takut sama dunia drama virtu. Fokus kami cuma satu: <span class="about-highlight">Menyadarkan kalian dari perbudakan IT dan drama kosong.</span></p>
          <p class="about-secondary" style="margin-top: 15px;">Jangan bangga sama gelar virtu lu di sini. Jangankan fisik lu, silsilah keluarga lu dari emak bapak sampe buyut juga bakal dibawa ke meja hijau kalau masih betah jadi budak drama. Sadar atau hancur.</p>
        </div>
      </div>

      <div id="chaos" class="page">
        <h2>KACUNG MARGA</h2>
        
        <div class="search-container">
          <div class="search-wrapper">
            <input type="text" id="searchInput" class="search-input" placeholder="CARI MARGA / USERNAME..." onkeyup="searchDatabase()">
            <span class="search-icon"></span>
          </div>
        </div>
        <div class="result-count" id="resultCount">MENAMPILKAN 2 MARGA</div>

        <div class="db-grid" id="dbGrid"></div>
      </div>
    </div>

    <footer>EST 2026 BY @AR3CLXYZ</footer>
  </main>

  <audio id="bgmusic" loop>
    <source src="https://files.catbox.moe/lsfoom.mp3" type="audio/mp3">
  </audio>

  <script>
    const databaseMarga = [
      {
        foto: [
          "https://files.catbox.moe/xm2xjl.jpg", 
          "https://files.catbox.moe/o096a2.jpg"
         ], 
        nama: "vian alber",
        wangsaff: "6285882457223",
        gelar: "petinggi ktnyahðŸ˜¹",
        grup: "alberich",
        tgl: "26 FEB 2026",
        keluarga: "-"
      },
      {
        foto: [
          "https://files.catbox.moe/0ekipa.jpg", 
          "https://files.catbox.moe/pshlkb.jpg"
        ],
        nama: "BOCAH KACUNG NGATAIN ORNG LOMTE ABISTU MISSINGðŸ˜¹",
        wangsaff: "6287845279749",
        gelar: "KACUNG",
        grup: "GARTEX",
        tgl: "27 FEB 2026",
        keluarga: "-"
      }
    ];

    let currentPhotoList = [];
    let currentPhotoIndex = 0;
    let copyTimeout;

    window.addEventListener('click', () => {
      document.getElementById('bgmusic').play().catch(() => {});
    }, { once: true });

    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        const intro = document.getElementById('intro');
        const main = document.getElementById('main-content');
        const navbar = document.getElementById('navbar');

        intro.style.opacity = '0';
        setTimeout(() => {
          intro.style.display = 'none';
          navbar.style.display = 'flex';
          main.classList.add('visible');
          tampilkanDatabase(databaseMarga);
          switchPage('home');
        }, 1800);
      }, 2400);
    });

    // âœ¦ FUNGSI COPY ID DENGAN TOAST PREMIUM âœ¦
    function copyID(element, idText) {
      navigator.clipboard.writeText(idText).then(() => {
        element.classList.add('copied');
        setTimeout(() => {
          element.classList.remove('copied');
        }, 300);

        const toast = document.getElementById('toast');
        toast.classList.add('show');
        toast.innerHTML = `âœ§ <span>${idText}</span> TERSALIN âœ§`;
        
        clearTimeout(copyTimeout);
        copyTimeout = setTimeout(() => {
          toast.classList.remove('show');
        }, 2000);
      }).catch(err => {
        console.error('gagal copy:', err);
      });
    }

    function openSingleModal(imgSrc, caption) {
      currentPhotoList = [imgSrc];
      currentPhotoIndex = 0;
      const modal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      const modalCaption = document.getElementById('modalCaption');
      const modalCounter = document.getElementById('modalCounter');
      modalImg.src = currentPhotoList[0];
      modalCaption.innerHTML = caption || '';
      modalCounter.innerHTML = '';
      modal.style.display = "block";
    }

    function openMultipleModal(photoList, nama, index) {
      currentPhotoList = photoList;
      currentPhotoIndex = index;
      
      const modal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      const modalCaption = document.getElementById('modalCaption');
      const modalCounter = document.getElementById('modalCounter');
      
      modalImg.src = currentPhotoList[currentPhotoIndex];
      modalCaption.innerHTML = `${nama} â€” Foto ${currentPhotoIndex + 1} dari ${currentPhotoList.length}`;
      modalCounter.innerHTML = `${currentPhotoIndex + 1} / ${currentPhotoList.length}`;
      
      modal.style.display = "block";
    }

    function updateModal() {
      const modal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      const modalCaption = document.getElementById('modalCaption');
      const modalCounter = document.getElementById('modalCounter');
      
      modalImg.src = currentPhotoList[currentPhotoIndex];
      
      if(currentPhotoList.length > 1) {
        modalCaption.innerHTML = `Foto ${currentPhotoIndex + 1} dari ${currentPhotoList.length}`;
        modalCounter.innerHTML = `${currentPhotoIndex + 1} / ${currentPhotoList.length}`;
      } else {
        modalCaption.innerHTML = '';
        modalCounter.innerHTML = '';
      }
      
      modal.style.display = "block";
    }

    function nextPhoto() {
      if(currentPhotoList.length > 1) {
        currentPhotoIndex = (currentPhotoIndex + 1) % currentPhotoList.length;
        updateModal();
      }
    }

    function prevPhoto() {
      if(currentPhotoList.length > 1) {
        currentPhotoIndex = (currentPhotoIndex - 1 + currentPhotoList.length) % currentPhotoList.length;
        updateModal();
      }
    }

    function closeModal() {
      document.getElementById('imageModal').style.display = "none";
    }

    window.onclick = function(event) {
      const modal = document.getElementById('imageModal');
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }

    function tampilkanDatabase(data) {
      const grid = document.getElementById('dbGrid');
      const count = document.getElementById('resultCount');
      
      if(data.length === 0) {
        grid.innerHTML = '<div class="no-result">TIDAK ADA MARGA DITEMUKAN</div>';
        count.innerText = 'MENAMPILKAN 0 MARGA';
        return;
      }

      let html = '';
      data.forEach((item, idx) => {
        const fotoList = item.foto;
        const fotoCount = fotoList.length;
        
        let fotoHtml = '<div class="db-photos" data-count="' + fotoCount + '">';
        
        fotoList.forEach((foto, i) => {
          const fotoArrayJson = JSON.stringify(fotoList).replace(/'/g, "&apos;");
          fotoHtml += `
            <div class="photo-item" onclick='openMultipleModal(${fotoArrayJson}, "${item.nama}", ${i})'>
              <img src="${foto}" alt="${item.nama} - foto ${i+1}">
              ${fotoCount > 1 ? '<span class="photo-count-badge">' + (i+1) + '/' + fotoCount + '</span>' : ''}
            </div>
          `;
        });
        
        fotoHtml += '</div>';

        html += `
          <div class="db-card" style="animation-delay: ${idx * 0.05}s">
            ${fotoHtml}
            <div class="db-content">
              <div class="db-name">${item.nama}</div>
              <div class="db-wangsaff">${item.wangsaff}</div>
              <div class="db-info">
                <div><span>GELAR</span> ${item.gelar}</div>
                <div><span>GRUP</span> ${item.grup}</div>
                <div><span>TGL</span> ${item.tgl}</div>
                <div><span>KELUARGA</span> ${item.keluarga}</div>
              </div>
            </div>
          </div>
        `;
      });
      
      grid.innerHTML = html;
      count.innerText = `MENAMPILKAN ${data.length} MARGA`;
    }

    function searchDatabase() {
      const input = document.getElementById('searchInput').value.toLowerCase().trim();
      
      if(input === '') {
        tampilkanDatabase(databaseMarga);
        return;
      }

      const hasil = databaseMarga.filter(item => 
        item.nama.toLowerCase().includes(input) || 
        (item.wangsaff && item.wangsaff.toLowerCase().includes(input)) ||
        item.gelar.toLowerCase().includes(input) ||
        item.grup.toLowerCase().includes(input)
      );
      
      tampilkanDatabase(hasil);
    }

    function switchPage(pageId) {
      // Sembunyikan semua page
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active-page');
      });
      
      // Tampilkan page yang dipilih
      document.getElementById(pageId).classList.add('active-page');
      
      // Update active state di navbar
      document.querySelectorAll('nav a').forEach(link => {
        link.classList.remove('active');
      });
      document.getElementById('n-' + pageId).classList.add('active');
      
      // Scroll ke atas
      window.scrollTo({top: 0, behavior: 'smooth'});
      
      // Refresh data jika di halaman chaos
      if(pageId === 'chaos') {
        const searchInput = document.getElementById('searchInput');
        if(searchInput) {
          searchInput.value = '';
        }
        tampilkanDatabase(databaseMarga);
      }
    }

    // Set home sebagai default
    switchPage('home');
  </script>
</body>
  </html>
